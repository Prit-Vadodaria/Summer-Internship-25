<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="A simple light/dark Theme generator.">
    <meta name="keywords" content="theme generator, web application">
    <meta name="author" content="Prit Vadodaria">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Theme-Generator</title>
</head>
<body>
    <div id="header">
        <header>
            <h1>Theme Generator</h1>
            <nav>
                <ul>
                    <li><a href="colorpicker.html">Color Picker</a></li>
                </ul>
            </nav>
        </header>   
    </div>
    <div class="container-1">
        <div id="color-selection">
            <h2>Generate Your Theme</h2>
            <div id="theme-buttons">
                <button id="light-theme" class="theme-button">Light Theme</button>
                <button id="dark-theme" class="theme-button">Dark Theme</button>
            </div>
            <hr>
                <h3>Accent Color</h3>
            <div class="color-inputs">
                <input type="color" id="primary-color" name="primary-color" value="#ff0000">
                <input type="text" id="primary-color-code" name="primary-color-code" value="#ff0000" readonly>
            </div>
            <br>
            <h3>Background Color</h3>
            <div class="color-inputs">
                <input type="color" id="secondary-color" name="secondary-color" value="#FFFFFF" >
                <input type="text" id="secondary-color-code" name="secondary-color-code" value="#FFFFFF" readonly>
            </div>
            <h3>Text Color</h3>
            <div class="color-inputs">
                <input type="color" id="text-color" name="text-color" value="#000000">
                <input type="text" id="text-color-code" name="text-color-code" value="#000000" readonly>
            </div>
            <h3>Box-Background Color</h3>
            <div class="color-inputs">
                <input type="color" id="box-background-color" name="box-background-color" value="#F0F0F0">
                <input type="text" id="box-background-color-code" name="box-background-color-code" value="#F0F0F0" readonly>
            </div>
            <hr>
            <h3>CSS Root Variables</h3>
            <div class="css-output">
                <textarea id="css-output" >
                    <!--text added dynamically-->
                </textarea>
            </div>
        </div>



        <div id="theme-preview">

            <aside class="sidebar">
                <div class="logo"><div id="bi-lightning-fill">
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-lightning-fill" viewBox="0 0 16 16">
                            <path d="M5.52.359A.5.5 0 0 1 6 0h4a.5.5 0 0 1 .474.658L8.694 6H12.5a.5.5 0 0 1 .395.807l-7 9a.5.5 0 0 1-.873-.454L6.823 9.5H3.5a.5.5 0 0 1-.48-.641z"/>
                        </svg>
                    </div></div>
                    <nav>
                        <ul>
                            <li><a href="#Dashboard" class="active">Dashboard</a></li>
                            <li><a href="#Analytics">Analytics</a></li>
                            <li><a href="#Settings">Settings</a></li>
                        </ul>
                    </nav>
            </aside>

            <main class="main-content">

            
                <div class="theme-header">
                    
                    <div id="theme-header-text">
                        <h2>Preview</h2>
                        <input type="text" placeholder="Search gradients, palettes, and more" />
                    </div>
                    <button id="compose-button">+ Compose</button>
                </div>
                <hr id="Dashboard">
                <h3>Featured integrations</h3>
                <div class="card-row-1">
                    <div class="card featured">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                                <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"/>
                            </svg>
                        </div>
                        <h4>Featured Card</h4>
                        <p>Far far away, behind the word mountains #1.</p>
                    </div>
                    <div class="card featured">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                                <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"/>
                            </svg>
                        </div>
                        <h4>Featured Card</h4>
                        <p>Far far away, behind the word mountains #2.</p>
                    </div>
                    <div class="card featured">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                                <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"/>
                            </svg>
                        </div>
                        <h4>Featured Card</h4>
                        <p>Far far away, behind the word mountains #3.</p>
                    </div>
                    
                </div>
                <hr>
                <h3>All integrations</h3>
                <div class="card-row-2">
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #1</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #2</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #3</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #4</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #5</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #6</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #7</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                    <div class="card">
                        <div class="logo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                            </svg>
                        </div>
                        <h4>Card Surface #8</h4>
                        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
                    <button class="read-btn">➜ Read more</button>
                    </div>
                </div>

                <hr id="Analytics">
                    <section class="top-locations">
                        <div class="locations-card">
                            <div class="location-item">
                                <span class="location-name">Mexico - 15k</span>
                                <div class="progress-bar">
                                    <div class="progress-bar-fill" style="width: 75%;"></div>
                                </div>
                            </div>
                            <div class="location-item">
                                <span class="location-name">Spain - 10k</span>
                                <div class="progress-bar">
                                    <div class="progress-bar-fill" style="width: 60%;"></div>
                                </div>
                            </div>
                            <div class="location-item">
                                <span class="location-name">USA - 8.5k</span>
                                <div class="progress-bar">
                                    <div class="progress-bar-fill" style="width: 45%;"></div>
                                </div>
                            </div>
                        </div>
                    </section>

                <hr id="Settings">

                <section class="ai-settings">
                    <div class="setting-item">
                        <div class="setting-text">
                            <div class="setting-title">AI Assistant</div>
                            <div class="setting-description">Get help from AI assistant</div>
                        </div>
                        <input type="checkbox" class="ai-checkbox" >
                    </div>
                    <div class="setting-item">
                        <div class="setting-text">
                            <div class="setting-title">AI Reports</div>
                            <div class="setting-description">Get AI reports and insights</div>
                        </div>
                        <input type="checkbox" class="ai-checkbox" >
                    </div>
                    <div class="setting-item">
                        <div class="setting-text">
                            <div class="setting-title">AI Suggestions</div>
                            <div class="setting-description">Get suggestions from AI</div>
                        </div>
                        <input type="checkbox" class="ai-checkbox">
                    </div>
                </section>
            </main>
        </div>
    </div>


    <div class="container-2">
        <h3>Accent Color</h3>
        <div class="clr-row" id="accent-shades">
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
        </div>
        <h3>background Color</h3>
        <div class="clr-row" id="background-shades">
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
            <div class="clr-shade"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
                let previewTheme = 'light';
                const lightThemeBtn = document.getElementById('light-theme');
                const darkThemeBtn = document.getElementById('dark-theme');
                const primaryColorInput = document.getElementById('primary-color');
                const secondaryColorInput = document.getElementById('secondary-color');
                const textColorInput = document.getElementById('text-color');
                const boxBackgroundColorInput = document.getElementById('box-background-color');
                const primaryColorCode = document.getElementById('primary-color-code');
                const secondaryColorCode = document.getElementById('secondary-color-code');
                const textColorCode = document.getElementById('text-color-code');
                const boxBackgroundColorCode = document.getElementById('box-background-color-code');
                const themePreview = document.getElementById('theme-preview');
                const cssOutput = document.getElementById('css-output');
                const accentShadesContainer = document.getElementById('accent-shades');
                const backgroundShadesContainer = document.getElementById('background-shades');

                function getCssVariables() {
                    const styles = getComputedStyle(themePreview);
                    return {
                        accent: styles.getPropertyValue('--theme-accent').trim(),
                        text: styles.getPropertyValue('--theme-text').trim(),
                        background: styles.getPropertyValue('--theme-background').trim(),
                        boxBackground: styles.getPropertyValue('--theme-box-background').trim()
                    };
                }

                function updateCssOutput() {
                    const { accent, text, background, boxBackground } = getCssVariables();
                    cssOutput.value = `
            :root {
--theme-accent: ${accent};
--theme-text: ${text};
--theme-background: ${background};
--theme-box-background: ${boxBackground};
}
                    `.trim();
                }

                lightThemeBtn.addEventListener('click', () => {
                    previewTheme = 'light';
                    themePreview.style.setProperty('--theme-text', '#000000');
                    themePreview.style.setProperty('--theme-background', '#FFFFFF');
                    themePreview.style.setProperty('--theme-box-background', '#f0f0f0');
                    textColorInput.value = '#000000';
                    textColorCode.value = '#000000';
                    boxBackgroundColorInput.value = '#f0f0f0';
                    boxBackgroundColorCode.value = '#f0f0f0';
                    
                    const currentAccent = getComputedStyle(themePreview).getPropertyValue('--theme-accent').trim();
                    themePreview.style.setProperty('--theme-accent', currentAccent);


                    secondaryColorInput.value = '#FFFFFF';
                    secondaryColorCode.value = '#FFFFFF';
                    updateCssOutput();
                    updateShadeDisplay();
                });

                darkThemeBtn.addEventListener('click', () => {
                    previewTheme = 'dark';
                    themePreview.style.setProperty('--theme-text', '#ffffff');
                    themePreview.style.setProperty('--theme-background', '#000000');
                    themePreview.style.setProperty('--theme-box-background', '#121212');
                    textColorInput.value = '#ffffff';
                    textColorCode.value = '#ffffff';
                    boxBackgroundColorInput.value = '#121212';
                    boxBackgroundColorCode.value = '#121212';
                    
                    const currentAccent = getComputedStyle(themePreview).getPropertyValue('--theme-accent').trim();
                    themePreview.style.setProperty('--theme-accent', currentAccent);

                    secondaryColorInput.value = '#000000';
                    secondaryColorCode.value = '#000000';
                    updateCssOutput();
                    updateShadeDisplay();
                });

                primaryColorInput.addEventListener('input', (e) => {
                    const newColor = e.target.value;
                    themePreview.style.setProperty('--theme-accent', newColor);
                    primaryColorCode.value = newColor;
                    updateCssOutput();
                    updateShadeDisplay();
                });

                secondaryColorInput.addEventListener('input', (e) => {
                    const newColor = e.target.value;
                    themePreview.style.setProperty('--theme-background', newColor);
                    secondaryColorCode.value = newColor;
                    updateCssOutput();
                    updateShadeDisplay();
                });

                textColorInput.addEventListener('input', (e) => {
                    const newColor = e.target.value;
                    themePreview.style.setProperty('--theme-text', newColor);
                    textColorCode.value = newColor;
                    updateCssOutput();
                });

                boxBackgroundColorInput.addEventListener('input', (e) => {
                    const newColor = e.target.value;
                    themePreview.style.setProperty('--theme-box-background', newColor);
                    boxBackgroundColorCode.value = newColor;
                    updateCssOutput();
                });


                // Shade generation logic
                function adjustHexLightness(hex, percent) {
                    let r = parseInt(hex.slice(1, 3), 16);
                    let g = parseInt(hex.slice(3, 5), 16);
                    let b = parseInt(hex.slice(5, 7), 16);

                    const amount = Math.floor(255 * (percent / 100));

                    r = Math.max(0, Math.min(255, r + amount));
                    g = Math.max(0, Math.min(255, g + amount));
                    b = Math.max(0, Math.min(255, b + amount));

                    const toHex = (c) => ('0' + c.toString(16)).slice(-2);
                    return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
                }

                function generateShades(baseColor, theme, type) {
                    const shades = [];
                    for (let i = 0; i < 5; i++) {
                        let amount;
                        const step = 10;
                        const factor = i + 1;

                        if (theme === 'light') {
                            amount = (type === 'accent') ? -step * factor : 5 + i * 5;
                        } else { // dark
                            amount = (type === 'accent') ? step * factor : -step * factor;
                        }
                        shades.push(adjustHexLightness(baseColor, amount));
                    }
                    return shades;
                }

                function updateShadeDisplay() {
                    const accentColor = primaryColorInput.value;
                    const backgroundColor = secondaryColorInput.value;

                    const accentShades = generateShades(accentColor, previewTheme, 'accent');
                    const backgroundShades = generateShades(backgroundColor, previewTheme, 'background');

                    accentShades.forEach((color, index) => {
                        const shadeBox = accentShadesContainer.children[index];
                        if(shadeBox) {
                            shadeBox.style.backgroundColor = color;
                            shadeBox.textContent = color;
                            const brightness = getBrightness(color);
                            shadeBox.style.color = brightness > 128 ? '#000000' : '#FFFFFF';
                        }
                    });

                    backgroundShades.forEach((color, index) => {
                        const shadeBox = backgroundShadesContainer.children[index];
                        if(shadeBox) {
                            shadeBox.style.backgroundColor = color;
                            shadeBox.textContent = color;
                            const brightness = getBrightness(color);
                            shadeBox.style.color = brightness > 128 ? '#000000' : '#FFFFFF';
                        }
                    });
                }
                
                function getBrightness(hex) {
                    const r = parseInt(hex.slice(1, 3), 16);
                    const g = parseInt(hex.slice(3, 5), 16);
                    const b = parseInt(hex.slice(5, 7), 16);
                    return (r * 299 + g * 587 + b * 114) / 1000;
                }


                // Initial state
                updateCssOutput();
                updateShadeDisplay();

            }); 
    </script>
</body>
</html>
